<!--<script>-->

<!--export default { name: 'MenuSettings', props: { visible: { type: Boolean, required: true, default: false }, roleId: { type: String, required: true } }, data() { return { treeLoading: true, treeData: [], selectedData: [], defaultProps: { children: 'children', label: 'nameCn' }, menuSettingsVisible: this.visible, value: [], originMenu: [], // 原有菜单 addMenu: [], // 最后需要添加的菜单 removeMenu: [] // 最后需要删除的菜单 } }, watch: { visible(value) { // 监听visible if (value) { this.queryList() } this.menuSettingsVisible = value } }, methods: { close() { this.$emit('setMenuSettingsVisible', false) this.value = [] this.treeData = [] }, confirm() { }, queryByRoleId(roleId) { // queryByRoleId(roleId).then(result => { //   if (result.success) { //     this.value = result.data //     this.originMenu = result.data //     // this.value.forEach(key => { //     //   this.$refs.tree.setChecked(key, true, false) //     // }) //     this.checkIndeterminate(this.treeData) //   } // }) }, queryList() { // 查询 this.treeLoading = true }, checkChange() { // 获取选中行 }, checkIndeterminate(data) { let type = '' // 父节点的状态类型 const selectedCount = 0 // data中选中项的数量 for (let i = 0; i < data.length; i++) { const node = data[i] if (node.children) { const currentType = this.checkIndeterminate(node.children) if (currentType === 'selected') { this.$refs.tree.setChecked(node.id, true, false) } } } if (!type) { if (data.length === selectedCount) { type = 'selected' } } return type } }}-->
<!--</script>-->
